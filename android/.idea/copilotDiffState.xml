<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/AndroidManifest.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/AndroidManifest.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;&#10;    &lt;!-- Hardware features --&gt;&#10;    &lt;uses-feature android:name=&quot;android.hardware.location.gps&quot; android:required=&quot;true&quot; /&gt;&#10;    &lt;uses-feature android:name=&quot;android.hardware.telephony&quot; android:required=&quot;false&quot; /&gt;&#10;&#10;    &lt;!-- Permissions for GPS tracking --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;&#10;&#10;    &lt;!-- Permissions for network and connectivity --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;&#10;&#10;    &lt;!-- Permissions for device admin and kiosk mode --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot;&#10;        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.WRITE_SECURE_SETTINGS&quot;&#10;        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;&#10;&#10;    &lt;!-- Permissions for wakelock and foreground service --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_LOCATION&quot; /&gt;&#10;&#10;    &lt;!-- Permission for battery stats --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.BATTERY_STATS&quot;&#10;        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;&#10;&#10;    &lt;!-- Permission for scheduling exact alarms --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;&#10;&#10;    &lt;!-- Permission for airplane mode --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.WRITE_APN_SETTINGS&quot;&#10;        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;&#10;&#10;    &lt;application&#10;        android:allowBackup=&quot;true&quot;&#10;        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;        android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;        android:icon=&quot;@mipmap/ic_launcher&quot;&#10;        android:label=&quot;@string/app_name&quot;&#10;        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&#10;        android:supportsRtl=&quot;true&quot;&#10;        android:theme=&quot;@style/Theme.GPSTracker&quot;&gt;&#10;&#10;        &lt;activity&#10;            android:name=&quot;.MainActivity&quot;&#10;            android:exported=&quot;true&quot;&#10;            android:label=&quot;@string/app_name&quot;&#10;            android:launchMode=&quot;singleTask&quot;&#10;            android:theme=&quot;@style/Theme.GPSTracker&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;&#10;                &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;&#10;                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;&#10;        &lt;!-- Device Admin Receiver for kiosk mode --&gt;&#10;        &lt;receiver&#10;            android:name=&quot;.admin.DeviceAdminReceiver&quot;&#10;            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&#10;            android:exported=&quot;true&quot;&gt;&#10;            &lt;meta-data&#10;                android:name=&quot;android.app.device_admin&quot;&#10;                android:resource=&quot;@xml/device_admin&quot; /&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/receiver&gt;&#10;&#10;        &lt;!-- Foreground Service for GPS tracking --&gt;&#10;        &lt;service&#10;            android:name=&quot;.service.GpsTrackingService&quot;&#10;            android:enabled=&quot;true&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:foregroundServiceType=&quot;location&quot; /&gt;&#10;&#10;&#10;    &lt;/application&gt;&#10;&#10;&lt;/manifest&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;&#10;    &lt;!-- Hardware features --&gt;&#10;    &lt;uses-feature android:name=&quot;android.hardware.location.gps&quot; android:required=&quot;true&quot; /&gt;&#10;    &lt;uses-feature android:name=&quot;android.hardware.telephony&quot; android:required=&quot;false&quot; /&gt;&#10;&#10;    &lt;!-- Permissions for GPS tracking --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;&#10;&#10;    &lt;!-- Permissions for network and connectivity --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;&#10;&#10;    &lt;!-- Permissions for device admin and kiosk mode --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot;&#10;        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.WRITE_SECURE_SETTINGS&quot;&#10;        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;&#10;&#10;    &lt;!-- Permissions for wakelock and foreground service --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_LOCATION&quot; /&gt;&#10;&#10;    &lt;!-- Permission for battery stats --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.BATTERY_STATS&quot;&#10;        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;&#10;&#10;    &lt;!-- Permission for scheduling exact alarms --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;&#10;&#10;    &lt;!-- Permission for airplane mode --&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.WRITE_APN_SETTINGS&quot;&#10;        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;&#10;&#10;    &lt;application&#10;        android:allowBackup=&quot;true&quot;&#10;        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;        android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;        android:icon=&quot;@mipmap/ic_launcher&quot;&#10;        android:label=&quot;@string/app_name&quot;&#10;        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&#10;        android:supportsRtl=&quot;true&quot;&#10;        android:theme=&quot;@style/Theme.GPSTracker&quot;&gt;&#10;&#10;        &lt;activity&#10;            android:name=&quot;.MainActivity&quot;&#10;            android:exported=&quot;true&quot;&#10;            android:label=&quot;@string/app_name&quot;&#10;            android:launchMode=&quot;singleTask&quot;&#10;            android:theme=&quot;@style/Theme.GPSTracker&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;&#10;                &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;&#10;                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;&#10;        &lt;!-- Device Admin Receiver for kiosk mode --&gt;&#10;        &lt;receiver&#10;            android:name=&quot;.admin.DeviceAdminReceiver&quot;&#10;            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&#10;            android:exported=&quot;true&quot;&gt;&#10;            &lt;meta-data&#10;                android:name=&quot;android.app.device_admin&quot;&#10;                android:resource=&quot;@xml/device_admin&quot; /&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/receiver&gt;&#10;&#10;        &lt;!-- Foreground Service for GPS tracking --&gt;&#10;        &lt;service&#10;            android:name=&quot;.service.GpsTrackingService&quot;&#10;            android:enabled=&quot;true&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:foregroundServiceType=&quot;location&quot; /&gt;&#10;&#10;        &lt;service&#10;            android:name=&quot;.location.SinkholeVpnService&quot;&#10;            android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;&#10;            android:exported=&quot;true&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/service&gt;&#10;    &lt;/application&gt;&#10;&#10;    &lt;uses-permission android:name=&quot;android.permission.BIND_VPN_SERVICE&quot; /&gt;&#10;&#10;&lt;/manifest&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/ovh/tenjo/gpstracker/location/SinkholeVpnService.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/ovh/tenjo/gpstracker/location/SinkholeVpnService.kt" />
              <option name="updatedContent" value="package ovh.tenjo.gpstracker.location&#10;&#10;import android.app.Service&#10;import android.content.Intent&#10;import android.content.pm.PackageManager&#10;import android.net.VpnService&#10;import android.os.IBinder&#10;import android.util.Log&#10;&#10;class SinkholeVpnService : VpnService() {&#10;    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {&#10;        val builder = Builder()&#10;        builder.addAddress(&quot;192.168.0.1&quot;, 24)&#10;        builder.addRoute(&quot;0.0.0.0&quot;, 0) // Intercept all traffic&#10;        try {&#10;            builder.addDisallowedApplication(packageName) // Let this app bypass VPN&#10;        } catch (e: PackageManager.NameNotFoundException) {&#10;            Log.e(TAG, &quot;Failed to disallow app from VPN&quot;, e)&#10;        }&#10;        builder.setSession(&quot;SinkholeVPN&quot;)&#10;        builder.establish() // Do not process packets, just blackhole&#10;        Log.i(TAG, &quot;Sinkhole VPN established&quot;)&#10;        return Service.START_STICKY&#10;    }&#10;&#10;    override fun onBind(intent: Intent?): IBinder? = null&#10;&#10;    companion object {&#10;        private const val TAG = &quot;SinkholeVpnService&quot;&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>